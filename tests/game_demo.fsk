import "lib/sprite.fsk";
import "lib/scene.fsk";

print "Starting Fsk Game Demo...";

Graphics.init(800, 600, "Fsk Game Framework Demo");

let scene = new Scene();
let player = new Sprite("hero.png");

player.setPosition(400, 300);
scene.add(player);
Graphics.setTargetFPS(60);

let xVelocity = 2;
let yVelocity = 2;


let frames = 0;

while (!Graphics.shouldClose() and frames < 60) {
    frames = frames + 1;
    Graphics.beginDrawing();
    Graphics.clearBackground(245, 245, 245); 

    player.x = player.x + xVelocity;
    player.y = player.y + yVelocity;

    if (player.x > 768 or player.x < 0) xVelocity = -xVelocity;
    if (player.y > 568 or player.y < 0) yVelocity = -yVelocity;

    scene.update();
    scene.draw();

    Graphics.endDrawing();
}

player.destroy();
Graphics.close();
print "Demo finished.";
